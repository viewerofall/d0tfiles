# Oneshot World Machine - Hyprlock Configuration
# Enhanced lock screen with power menu integration

general {
    disable_loading_bar = true
    hide_cursor = true
    grace = 0
    no_fade_in = false
    no_fade_out = false
}

background {
    monitor =
    path = /home/abyss/.config/hypr/balls.png
    blur_passes = 2
    blur_size = 4
    noise = 0.0117
    contrast = 0.8916
    brightness = 0.8172
    vibrancy = 0.1696
    vibrancy_darkness = 0.0
}

# Niko's sun/lightbulb as background element
image {
    monitor =
    path = ~/.config/hypr/lightbulb.png  # Add Niko image here if you have one
    size = 150
    position = 0, 250
    halign = center
    valign = center
    border_size = 4
    border_color = rgb(9564fd)
}

# Time display
label {
    monitor =
    text = cmd[update:1000] echo "$(date +'%H:%M')"
    color = rgb(9564fd)
    font_size = 90
    font_family = Terminess Nerd Font Bold
    position = 0, 100
    halign = center
    valign = center
}

# Date display
label {
    monitor =
    text = cmd[update:3600000] echo "$(date +'%A, %B %d')"
    color = rgb(9564fd)
    font_size = 24
    font_family = Terminess Nerd Font
    position = 0, 20
    halign = center
    valign = center
}

# Username
label {
    monitor =
    text = $USER
    color = rgb(9564fd)
    font_size = 18
    font_family = Terminess Nerd Font Bold
    position = 0, -50
    halign = center
    valign = center
}

# Password input field
input-field {
    monitor =
    size = 400, 60
    outline_thickness = 4
    dots_size = 0.25
    dots_spacing = 0.3
    dots_center = true
    dots_rounding = -1
    outer_color = rgb(9564fd)
    inner_color = rgb(000000)
    font_color = rgb(9564fd)
    fade_on_empty = false
    fade_timeout = 1000
    placeholder_text = <span foreground="##9564fd">󰌾  Enter Password...</span>
    hide_input = false
    rounding = 0
    check_color = rgb(ffff33)
    fail_color = rgb(ff6b9d)
    fail_text = <span foreground="##ff6b9d">$FAIL ($ATTEMPTS)</span>
    fail_timeout = 2000
    fail_transition = 200
    capslock_color = rgb(ffff33)
    numlock_color = -1
    bothlock_color = -1
    invert_numlock = false
    swap_font_color = false
    position = 0, -150
    halign = center
    valign = center
}

# Instructions label
label {
    monitor =
    text = Press Enter to unlock or Esc to cancel
    color = rgb(7b4fd9)
    font_size = 12
    font_family = Terminess Nerd Font
    position = 0, -240
    halign = center
    valign = center
}

# Power options hint
label {
    monitor =
    text = 󰐥  Power Menu: Super+X after unlock
    color = rgb(7b4fd9)
    font_size = 11
    font_family = Terminess Nerd Font
    position = 0, -280
    halign = center
    valign = center
}

# System info (bottom left)
label {
    monitor =
    text = cmd[update:60000] echo "  $(cat /proc/uptime | cut -d ' ' -f1 | cut -d '.' -f1 | awk '{print int($1/3600)":"int(($1%3600)/60)":"($1%60)}')"
    color = rgb(7b4fd9)
    font_size = 12
    font_family = Terminess Nerd Font
    position = 30, 30
    halign = left
    valign = bottom
}

# Battery indicator (bottom right) - only shows if battery exists
label {
    monitor =
    text = cmd[update:10000] echo "$(if [ -d /sys/class/power_supply/BAT* 2>/dev/null ]; then cat /sys/class/power_supply/BAT*/capacity 2>/dev/null | head -1 | awk '{print "  "$1"%"}'; fi)"
    color = rgb(7b4fd9)
    font_size = 12
    font_family = Terminess Nerd Font
    position = -30, 30
    halign = right
    valign = bottom
}
